(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[112],{1158:(e,s,t)=>{"use strict";t.d(s,{ProtectedRoute:()=>d});var a=t(4),l=t(407),r=t(894),n=t(348),i=t(9306);function d(e){let{children:s,requiredRoles:t,fallback:d}=e,{user:c,isAuthenticated:o,isLoading:x}=(0,l.A)();return x?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):o&&c?t&&!t.includes(c.role)?d||(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,a.jsx)(r.Zp,{className:"w-full max-w-md",children:(0,a.jsxs)(r.Wu,{className:"text-center py-8",children:[(0,a.jsx)(i.A,{className:"h-12 w-12 mx-auto mb-4 text-destructive"}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"접근 권한이 없습니다"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"이 페이지에 접근할 권한이 없습니다."})]})})}):(0,a.jsx)(a.Fragment,{children:s}):d||(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen p-4",children:(0,a.jsx)(r.Zp,{className:"w-full max-w-md",children:(0,a.jsxs)(r.Wu,{className:"text-center py-8",children:[(0,a.jsx)(n.A,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"로그인이 필요합니다"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"이 페이지에 접근하려면 로그인해주세요."})]})})})}},1708:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>u,gC:()=>m,l6:()=>c,yv:()=>o});var a=t(4);t(3176);var l=t(270),r=t(5475),n=t(5351),i=t(1666),d=t(8347);function c(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(l.WT,{"data-slot":"select-value",...s})}function x(e){let{className:s,size:t="default",children:n,...i}=e;return(0,a.jsxs)(l.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[n,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:s,children:t,position:r="popper",...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...n,children:[(0,a.jsx)(h,{}),(0,a.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function u(e){let{className:s,children:t,...r}=e;return(0,a.jsxs)(l.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(l.p4,{children:t})]})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(l.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(i.A,{className:"size-4"})})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(l.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(r.A,{className:"size-4"})})}},4727:(e,s,t)=>{"use strict";t.d(s,{AnonymousBoard:()=>N});var a=t(4),l=t(3176),r=t(894),n=t(8924),i=t(416),d=t(4294),c=t(6949),o=t(7572),x=t(4574),m=t(1708),u=t(9306),h=t(9221),p=t(348),j=t(6673),g=t(9611);let f=(0,t(7561).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var v=t(776);function N(){let[e,s]=(0,l.useState)([]),[t,N]=(0,l.useState)(""),[b,y]=(0,l.useState)({title:"",content:"",category:"",region:""}),[w,C]=(0,l.useState)(!1),[A,k]=(0,l.useState)(null),[z,_]=(0,l.useState)(""),{user:S}=(0,v.A)(),L=e.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())||e.content.toLowerCase().includes(t.toLowerCase())),Z=t=>{if(!z.trim()||!S||"admin"!==S.role)return;let a={id:Date.now(),content:z,author:S.name,date:new Date().toISOString().split("T")[0]};s(e.map(e=>e.id===t?{...e,replies:[...e.replies,a],status:"검토중"}:e)),_("")},q=e=>{switch(e){case"접수":return"bg-blue-100 text-blue-800";case"검토중":return"bg-yellow-100 text-yellow-800";case"완료":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},T=(null==S?void 0:S.role)==="admin";return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-8 w-8 text-amber-500"}),"익명제보"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"익명으로 문제점이나 개선사항을 제보하는 공간"})]}),(0,a.jsxs)(o.lG,{open:w,onOpenChange:C,children:[(0,a.jsx)(o.zM,{asChild:!0,children:(0,a.jsxs)(n.$,{className:"gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),"제보하기"]})}),(0,a.jsxs)(o.Cf,{className:"max-w-2xl",children:[(0,a.jsx)(o.c7,{children:(0,a.jsx)(o.L3,{children:"익명 제보"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"category",children:"분류"}),(0,a.jsxs)(m.l6,{value:b.category,onValueChange:e=>y({...b,category:e}),children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{placeholder:"분류 선택"})}),(0,a.jsx)(m.gC,{children:["개인정보보호","업무프로세스","보안"].map(e=>(0,a.jsx)(m.eb,{value:e,children:e},e))})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"region",children:"지역"}),(0,a.jsxs)(m.l6,{value:b.region,onValueChange:e=>y({...b,region:e}),children:[(0,a.jsx)(m.bq,{children:(0,a.jsx)(m.yv,{placeholder:"지역 선택"})}),(0,a.jsx)(m.gC,{children:["수도권1","수도권2","중부","서부","대구","부산","NW운용"].map(e=>(0,a.jsx)(m.eb,{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"title",children:"제목"}),(0,a.jsx)(i.p,{id:"title",value:b.title,onChange:e=>y({...b,title:e.target.value}),placeholder:"제목을 입력하세요"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"content",children:"내용"}),(0,a.jsx)(d.T,{id:"content",value:b.content,onChange:e=>y({...b,content:e.target.value}),placeholder:"제보 내용을 상세히 입력하세요",rows:10})]}),(0,a.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-amber-800 mb-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"font-medium",children:"익명성 보장"})]}),(0,a.jsx)("p",{className:"text-sm text-amber-700",children:"제보자의 신원은 철저히 보호되며, 제보 내용은 관련 부서에서만 검토됩니다."})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>C(!1),children:"취소"}),(0,a.jsx)(n.$,{onClick:()=>{b.title.trim()&&b.content.trim()&&b.category&&b.region&&(s([{id:e.length+1,title:b.title,content:b.content,category:b.category,region:b.region,date:new Date().toISOString().split("T")[0],status:"접수",replies:[]},...e]),y({title:"",content:"",category:"",region:""}),C(!1))},children:"제보하기"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,a.jsx)(j.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(i.p,{placeholder:"제보 검색...",value:t,onChange:e=>N(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(c.E,{variant:"secondary",children:["총 ",L.length,"개 제보"]})]}),T?(0,a.jsx)("div",{className:"space-y-4",children:L.map(e=>(0,a.jsxs)(r.Zp,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(r.aR,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsx)(r.ZB,{className:"text-lg",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.E,{className:q(e.status),children:e.status}),(0,a.jsx)(c.E,{variant:"outline",children:e.category})]})]})}),(0,a.jsxs)(r.Wu,{children:[(0,a.jsx)(r.BT,{className:"line-clamp-2 mb-3",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"h-3 w-3"}),e.date]}),(0,a.jsxs)("span",{children:["지역: ",e.region]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(f,{className:"h-3 w-3"}),"답변 ",e.replies.length]})]}),(0,a.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>k((null==A?void 0:A.id)===e.id?null:e),children:(null==A?void 0:A.id)===e.id?"접기":"답변하기"})]}),(null==A?void 0:A.id)===e.id&&(0,a.jsxs)("div",{className:"border-t pt-4 space-y-3",children:[e.replies.map(e=>(0,a.jsxs)("div",{className:"bg-muted/50 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("span",{className:"font-medium text-sm",children:[e.author," (관리자)"]}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:e.date})]}),(0,a.jsx)("p",{className:"text-sm",children:e.content})]},e.id)),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(d.T,{value:z,onChange:e=>_(e.target.value),placeholder:"답변을 입력하세요...",rows:3,className:"flex-1"}),(0,a.jsx)(n.$,{onClick:()=>Z(e.id),disabled:!z.trim(),children:"답변"})]})]})]})]},e.id))}):(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"text-center py-12",children:[(0,a.jsx)(p.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"제보 내용은 관리자만 열람할 수 있습니다."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"익명성 보장을 위해 일반 사용자는 열람이 제한됩니다."})]})}),0===L.length&&T&&(0,a.jsx)(r.Zp,{children:(0,a.jsxs)(r.Wu,{className:"text-center py-12",children:[(0,a.jsx)(u.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t?"검색 결과가 없습니다.":"아직 제보가 없습니다."})]})})]})}},6673:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7561).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8178:(e,s,t)=>{Promise.resolve().then(t.bind(t,1158)),Promise.resolve().then(t.bind(t,4727)),Promise.resolve().then(t.bind(t,4806))},9306:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(7561).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[685,587,405,21,300,476,571,358],()=>s(8178)),_N_E=e.O()}]);